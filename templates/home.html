{% extends "base.html" %}
{% block title %}
  {% if landing_page %}
  <title>diff.blog</title>
  {% elif feed_type == "top" %}
  <title>Top {{ topic }} blog posts | diff.blog</title>
  {% elif feed_type == "following" %}
  <title>New {{ topic_display_name }} blog posts from users you follow | diff.blog</title>
  {% elif feed_type == "new" %}
  <title>New {{ topic_display_name }} blog posts | diff.blog</title>
  {% else %}
  <title>Top {{ topic_display_name }} blog posts | diff.blog</title>
  {% endif %}
{% endblock %}

{% block seo_tags %}
<meta name="description" content="diff.blog is the home page of the developer community. Join diff.blog to keep updated with the blogs of developers from all over the internet.">
{% endblock %}

{% block content %}
<section class="section">
  <div class="container">
      <div class="columns">
        <div class="column is-one-quarter">
          {% include "main_side_menu.html" %}
        </div>
        <div class="column is-6">
          {% if topic_display_name %}
            {% if feed_type == "top" %}
            <h1 class="is-size-4">Top blog posts in <b>{{ topic_display_name }}</b></h1>
            {% endif %}
            {% if feed_type == "new" %}
            <h1 class="is-size-4">Latest blog posts in <b>{{ topic_display_name }}</b></h1>
            {% endif %}
            {% if feed_type == "following" %}
            <h1 class="is-size-4">Latest blog posts in <b>{{ topic_display_name }}</b> from the users you follow</h1>
            {% endif %}
            <br>
          {% endif %}

          <div id="home_feed"></div>
        </div>
        <div class="column is-one-quarter">
          {% if user.is_authenticated %}
          <div id="user_suggestions_box">
              <aside class="menu">
                  <p class="menu-label">
                    Recommended users
                  </p>
              </aside>
              <div class="column is-20">
                <div class="box">
                <div id="follow_list"></div>
                <aside class="see-more-rusers">
                    <a href="/users/suggestions/" style="font-size: 14px; color: #7a7a7a;">
                        See more recommended users
                    </a>
                </aside>
              </div>
            </div>
          </div>
          {% else %}
          <div class="box">
            <div class="title is-4">
              <i class="em em-female-technologist" aria-role="presentation" aria-label=""></i> diff.blog is the home page for developers!
            </div>
            <p>
              diff.blog keeps you updated with the software engineering and developer blogs from all over the Internet.
            </p>
            <br>
            <p>
              <b>Join diff.blog to</b>
            </p>
            <br>
            {% include "features.html" %}
          </div>
          {% endif %}
        </div>
      </div>
  </div>
</section>
{% verbatim %}
{% endverbatim %}
<script>
  var page_params = {
    pocket_show_button: {{ js_pocket_show_button }},
    auth_username: "{{ auth_username }}",
    topic: "{{ topic }}",
  };
</script>
<script src="/static/dist/feed.bundle.js"></script>
<script src="/static/dist/like.bundle.js"></script>
<script src="/static/dist/save.bundle.js"></script>
<script src="/static/dist/follow.bundle.js"></script>
<script src="/static/dist/admin.bundle.js"></script>
{% endblock %}
